
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>函数式编程初探 - forecho 的独立博客</title>
  <meta name="author" content="forecho">

  
  <meta name="description" content="引言 什么是函数式编程 入门示例 函数式编程有哪些特性 头等函数（First-class functions） 纯函数（Pure functions）和 不可变状态 尾递归优化 对比命令式编程比较 函数式编程优缺点 优点 缺点 最后 参考链接 引言 什么是函数式编程 函数式编程是是一种编程范式， &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="https://blog.forecho.com/a-preliminary-study-on-functional-programming.html">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="forecho 的独立博客" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//libs.baidu.com/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
  <meta name="google-site-verification" content="OMI81_SJiESxwq-Fr0CLleoF7EzVdRx7QTQlbAfCVdI" />
<!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="//fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="//fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<script>
function addBlankTargetForLinks () {
  $('a[href^="http"]').each(function(){
      $(this).attr('target', '_blank');
  });
}

$(document).bind('DOMNodeInserted', function(event) {
  addBlankTargetForLinks();
});
</script>
  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-75634412-1']);
    _gaq.push(['_trackPageview']);
    (function () {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">forecho 的独立博客</a></h1>
  
    <h2>把生命浪费在美好的事物上</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="https://www.google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:blog.forecho.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">首页</a></li>
  <li><a href="/archives">文章归档</a></li>
  <li><a href="/about">关于我</a></li>
  <li><a href="/friendship-links">联盟链接</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">函数式编程初探</h1>
    
    
      <p class="meta">
        
 
 
 

  2019年08月29日
        
      </p>
    
  </header>


<div class="entry-content"><ul id="markdown-toc">
  <li><a href="#section" id="markdown-toc-section">引言</a></li>
  <li><a href="#section-1" id="markdown-toc-section-1">什么是函数式编程</a></li>
  <li><a href="#section-2" id="markdown-toc-section-2">入门示例</a></li>
  <li><a href="#section-3" id="markdown-toc-section-3">函数式编程有哪些特性</a>    <ul>
      <li><a href="#first-class-functions" id="markdown-toc-first-class-functions">头等函数（First-class functions）</a></li>
      <li><a href="#pure-functions-" id="markdown-toc-pure-functions-">纯函数（Pure functions）和 不可变状态</a></li>
    </ul>
  </li>
  <li><a href="#section-4" id="markdown-toc-section-4">尾递归优化</a></li>
  <li><a href="#section-5" id="markdown-toc-section-5">对比命令式编程比较</a></li>
  <li><a href="#section-6" id="markdown-toc-section-6">函数式编程优缺点</a>    <ul>
      <li><a href="#section-7" id="markdown-toc-section-7">优点</a></li>
      <li><a href="#section-8" id="markdown-toc-section-8">缺点</a></li>
    </ul>
  </li>
  <li><a href="#section-9" id="markdown-toc-section-9">最后</a></li>
  <li><a href="#section-10" id="markdown-toc-section-10">参考链接</a></li>
</ul>

<h2 id="section">引言</h2>

<h2 id="section-1">什么是函数式编程</h2>

<p>函数式编程是是一种编程范式，它将计算机运算视为函数运算，并且避免使用程序状态以及易变对象。其中，λ演算（lambda calculus）为该语言最重要的基础。而且，λ演算的函数可以接受函数当作输入（引数）和输出（传出值）。</p>

<!--more-->

<h2 id="section-2">入门示例</h2>

<p>输出前 25 个整数的平方值，PHP 语言：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="k">for</span> <span class="p">(</span><span class="nv">$i</span><span class="o">=</span><span class="mi">0</span><span class="p">;</span> <span class="nv">$i</span> <span class="o">&lt;</span> <span class="mi">25</span><span class="p">;</span> <span class="nv">$i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="k">echo</span> <span class="nv">$i</span> <span class="o">*</span> <span class="nv">$i</span> <span class="o">.</span> <span class="s1">&#39;,&#39;</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="c1">// 0,1,4,9,16,25,36,49,64,81,100,121,144,169,196,225,256,289,324,361,400,441,484,529,576,</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>如果是函数式编程语言:</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
</pre></td><td class="code"><pre><code class="haskell"><span class="line"><span class="nf">print</span><span class="p">(</span><span class="n">map</span> <span class="p">(</span><span class="o">^</span><span class="mi">2</span><span class="p">)</span> <span class="p">[</span><span class="mi">0</span> <span class="o">..</span> <span class="mi">25</span><span class="p">])</span>
</span><span class="line"><span class="c1">-- [0,1,4,9,16,25,36,49,64,81,100,121,144,169,196,225,256,289,324,361,400,441,484,529,576,625]</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><code>print</code> 是一个函数，<code>map</code> 也是一个函数。</p>

<h2 id="section-3">函数式编程有哪些特性</h2>

<h3 id="first-class-functions">头等函数（First-class functions）</h3>

<p><strong>头等函数</strong>指的是函数与其他数据类型一样，处于平等地位，可以赋值给其他变量，也可以作为参数，传入另一个函数，或者作为别的函数的返回值。PHP 支持头等函数。围绕这一特性的应用有：</p>

<ul>
  <li><strong>高阶函数（Higher-order function）</strong>：一个函数满足至少一个参数是函数或者返回一个函数时，我们可以称这个函数为高阶函数。</li>
</ul>

<p>高阶函数的示例一（参数是函数），返回一个数组中的偶数：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="nv">$input</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">];</span>
</span><span class="line"><span class="c1">// 匿名函数赋值给变量</span>
</span><span class="line"><span class="nv">$filterEven</span> <span class="o">=</span> <span class="k">function</span><span class="p">(</span><span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span><span class="nv">$item</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line"><span class="p">};</span>
</span><span class="line"><span class="nv">$output</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nv">$filterEven</span><span class="p">);</span>
</span><span class="line"><span class="nb">print_r</span><span class="p">(</span><span class="nv">$output</span><span class="p">);</span>
</span><span class="line"><span class="c1">// 不使用变量，直接使用闭包的版本</span>
</span><span class="line"><span class="nv">$output</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="k">function</span><span class="p">(</span><span class="nv">$item</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="p">(</span><span class="nv">$item</span> <span class="o">%</span> <span class="mi">2</span><span class="p">)</span> <span class="o">==</span> <span class="mi">0</span><span class="p">;</span>
</span><span class="line"><span class="p">});</span>
</span><span class="line"><span class="nb">print_r</span><span class="p">(</span><span class="nv">$output</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>高阶函数的示例二（返回函数），返回一个数组中的偶数：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="sd">/**</span>
</span><span class="line"><span class="sd"> * 返回一个大于n的匿名函数</span>
</span><span class="line"><span class="sd"> */</span>
</span><span class="line"><span class="k">function</span> <span class="nf">criteriaGreaterThan</span><span class="p">(</span><span class="nv">$min</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">    <span class="k">return</span> <span class="k">function</span><span class="p">(</span><span class="nv">$item</span><span class="p">)</span> <span class="k">use</span> <span class="p">(</span><span class="nv">$min</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">        <span class="k">return</span> <span class="nv">$item</span> <span class="o">&gt;</span> <span class="nv">$min</span><span class="p">;</span>
</span><span class="line">    <span class="p">};</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nv">$input</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">];</span>
</span><span class="line"><span class="nv">$output</span> <span class="o">=</span> <span class="nb">array_filter</span><span class="p">(</span><span class="nv">$input</span><span class="p">,</span> <span class="nx">criteriaGreaterThan</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
</span><span class="line"><span class="nb">print_r</span><span class="p">(</span><span class="nv">$output</span><span class="p">);</span> <span class="c1">// items &gt; 3</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>PHP 自带的高阶函数还有 <code>array_map</code>、<code>array_reduce</code>……</p>

<ul>
  <li><strong>柯里化 (Currying)</strong>：又译为卡瑞化或加里化，是把接受多个参数的函数变换成接受一个单一参数（最初函数的第一个参数）的函数，并且返回接受余下的参数而且返回结果的新函数的技术。（<a href="https://zh.wikipedia.org/wiki/%E6%9F%AF%E9%87%8C%E5%8C%96">来源</a>）</li>
</ul>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
<span class="line-number">11</span>
<span class="line-number">12</span>
<span class="line-number">13</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="c1">// 柯里化之前</span>
</span><span class="line"><span class="k">function</span> <span class="nf">foo</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">,</span> <span class="nv">$z</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="k">echo</span> <span class="nv">$x</span> <span class="o">+</span> <span class="nv">$y</span> <span class="o">+</span> <span class="nv">$z</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="k">echo</span> <span class="nx">foo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">);</span> <span class="c1">// 6</span>
</span><span class="line"><span class="c1">// 柯里化之后</span>
</span><span class="line"><span class="k">function</span> <span class="nf">fnFoo</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="k">return</span> <span class="k">function</span><span class="p">(</span><span class="nv">$z</span><span class="p">)</span> <span class="k">use</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">		<span class="nx">foo</span><span class="p">(</span><span class="nv">$x</span><span class="p">,</span> <span class="nv">$y</span><span class="p">,</span> <span class="nv">$z</span><span class="p">);</span>
</span><span class="line">	<span class="p">};</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nv">$bar</span> <span class="o">=</span> <span class="nx">fnFoo</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">);</span>
</span><span class="line"><span class="k">echo</span> <span class="nv">$bar</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span> <span class="c1">// 6</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>使用场合（或者说是优点）：</p>

<ul>
  <li>参数复用</li>
  <li>延迟执行</li>
</ul>

<h3 id="pure-functions-">纯函数（Pure functions）和 不可变状态</h3>

<p><strong>纯函数</strong></p>

<p>若一个函数符合以下要求，则它可能被认为是纯函数（也可以叫表达式）：</p>

<ul>
  <li>不依赖外部：该函数的返回结果只依赖于它的参数。</li>
  <li>不改变外部：该函数不能有语义上可观察的函数副作用，诸如『触发事件』，使输出设备输出，或更改输出值以外物件的内容等。</li>
</ul>

<p>我们来看一个例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
</pre></td><td class="code"><pre><code class="js"><span class="line"><span class="c1">// 不是纯函数</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">foo</span> <span class="o">=</span> <span class="p">(</span><span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">a</span> <span class="o">+</span> <span class="nx">b</span>
</span><span class="line"><span class="nx">foo</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span> <span class="c1">// =&gt; 3</span>
</span><span class="line"><span class="c1">// 纯函数</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">a</span> <span class="o">=</span> <span class="mi">1</span>
</span><span class="line"><span class="kr">const</span> <span class="nx">bar</span> <span class="o">=</span> <span class="p">(</span><span class="nx">x</span><span class="p">,</span> <span class="nx">b</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="nx">x</span> <span class="o">+</span> <span class="nx">b</span>
</span><span class="line"><span class="nx">bar</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">)</span> <span class="c1">// =&gt; 3</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p><code>foo</code> 函数不是一个纯函数，因为它返回的结果依赖于外部变量 a，我们在不知道 a 的值的情况下，并不能保证 <code>foo(2)</code> 的返回值是 3。
<code>bar</code> 的返回结果只依赖于它的参数 x 和 b，<code>bar(1, 2)</code> 永远是 3。</p>

<p>纯函数的好处是没有副作用，保证了无论在什么时候调用函数，对于相同的输入，总会得到相同的输出。</p>

<p><strong>不可变状态</strong></p>

<p>在纯函数式编程语言中，变量被赋值之后就不可以修改值了。在其他类型的语言中，变量往往用来保存一个临时状态。没有变量就不能写复杂的程序了吗？</p>

<p>事实上函数式程序是可以保存状态的，只不过它们用的不是变量，而是函数。状态保存在函数的参数中，也就是说在栈上。如果你需要保存一个状态一段时间并且时不时的修改它，那么你可以编写一个递归函数。举个例子：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
<span class="line-number">8</span>
<span class="line-number">9</span>
<span class="line-number">10</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="c1">//递归实现字符串翻转</span>
</span><span class="line"><span class="k">function</span> <span class="nf">reverseString</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span>
</span><span class="line"><span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="nb">strlen</span><span class="p">(</span><span class="nv">$str</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">		<span class="nx">reverseString</span><span class="p">(</span><span class="nb">substr</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span><span class="mi">1</span><span class="p">));</span>
</span><span class="line">	<span class="p">}</span>
</span><span class="line">	<span class="k">echo</span> <span class="nb">substr</span><span class="p">(</span><span class="nv">$str</span><span class="p">,</span><span class="mi">0</span><span class="p">,</span><span class="mi">1</span><span class="p">);</span>
</span><span class="line">	<span class="k">return</span><span class="p">;</span>
</span><span class="line"><span class="p">}</span>
</span><span class="line"><span class="nx">reverseString</span><span class="p">(</span><span class="s1">&#39;forecho&#39;</span><span class="p">);</span> <span class="c1">// ohcerof</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<h2 id="section-4">尾递归优化</h2>

<p>在函数式编程中，由于没有可变状态，for, while 这些循环都只能通过递归来实现，因此函数式编程严重依赖递归，如上面的代码示例。</p>

<p>我们知道递归的害处，那就是如果递归很深的话，栈受不了，并会导致性能大幅度下降。所以为了防止函数栈肆意扩展(导致栈溢出)，通常函数式语言的编译器都会实现尾调用优化。</p>

<h2 id="section-5">对比命令式编程比较</h2>

<ul>
  <li>命令式编程（imperative）：命令『机器』如何去做事情(how)，这样不管你想要的是什么(what)，它都会按照你的命令实现。</li>
  <li>声明式编程（Declarative）：告诉『机器』你想要的是什么(what)，让机器想出如何去做(how)。</li>
</ul>

<p>以生活中打车到王府井大街作为例子：</p>

<ul>
  <li>命令式编程：下个路口左转 -&gt; 下个有红灯的路口右转 -&gt; 前进100米 -&gt; 在下个路口掉头 -&gt; 前进1500米 -&gt; 到达王府井大街出租车停车区</li>
  <li>声明式编程：带我到王府井大街。</li>
</ul>

<p>SQL 是典型的声明式编程语言，示例</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
</pre></td><td class="code"><pre><code class="sql"><span class="line"><span class="k">SELECT</span> <span class="o">*</span> <span class="k">from</span> <span class="o">`</span><span class="k">user</span><span class="o">`</span> <span class="k">WHERE</span> <span class="o">`</span><span class="n">username</span><span class="o">`</span> <span class="o">=</span> <span class="s1">&#39;forecho&#39;</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>如果用命令式编程语言改写的话：</p>

<div class="bogus-wrapper"><notextile><figure class="code"><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class="line-number">1</span>
<span class="line-number">2</span>
<span class="line-number">3</span>
<span class="line-number">4</span>
<span class="line-number">5</span>
<span class="line-number">6</span>
<span class="line-number">7</span>
</pre></td><td class="code"><pre><code class="php"><span class="line"><span class="nv">$users</span> <span class="o">=</span> <span class="p">[</span><span class="s1">&#39;forecho&#39;</span><span class="p">,</span> <span class="s1">&#39;cai&#39;</span><span class="p">];</span>
</span><span class="line"><span class="k">foreach</span> <span class="p">(</span><span class="nv">$users</span> <span class="k">as</span> <span class="nv">$key</span> <span class="o">=&gt;</span> <span class="nv">$user</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">	<span class="k">if</span><span class="p">(</span><span class="nv">$user</span> <span class="o">==</span> <span class="s2">&quot;forecho&quot;</span><span class="p">)</span> <span class="p">{</span>
</span><span class="line">     <span class="k">print</span><span class="p">(</span><span class="s2">&quot;find&quot;</span><span class="p">);</span>
</span><span class="line">     <span class="k">break</span><span class="p">;</span>
</span><span class="line">    <span class="p">}</span>
</span><span class="line"><span class="p">}</span>
</span></code></pre></td></tr></table></div></figure></notextile></div>

<p>除了 SQL，网页编程中用到的 HTML 和 CSS 也都属于声明式编程，函数式编程也属于声明式编程，但是他又不仅仅局限于声明式编程。</p>

<h2 id="section-6">函数式编程优缺点</h2>

<h3 id="section-7">优点</h3>

<ul>
  <li>代码简洁，开发快速</li>
  <li>接近自然语言，易于理解</li>
  <li>更方便的代码调试与 debug：因为是纯函数</li>
  <li>易于『并发编程』：无副作用</li>
  <li>代码的热升级</li>
</ul>

<h3 id="section-8">缺点</h3>

<ul>
  <li>执行效率并不高，性能比命令式编程差</li>
  <li>函数式编程用类似管道的方式来处理数据，因此不适合处理可变状态。</li>
  <li>函数式编程不适合做 IO 操作，也不适合写 GUI。</li>
</ul>

<h2 id="section-9">最后</h2>

<p>除了本篇文章介绍的函数式编程，其他常见编程范式都有响应式编程、命令式编程、面向对象编程、结构式编程等等。</p>

<p>需要说明的是在整理这篇文章的时候其实我本人并没有函数式编程的经验，所以这里只做了初步分享，等以后我有了经验再来分享。</p>

<h2 id="section-10">参考链接</h2>

<ul>
  <li><a href="https://en.wikipedia.org/wiki/Functional_programming">函数式编程</a></li>
  <li><a href="https://coolshell.cn/articles/10822.html">函数式编程</a></li>
  <li><a href="https://zh.wikipedia.org/wiki/%CE%9B%E6%BC%94%E7%AE%97">λ演算</a></li>
  <li><a href="https://phptherightway.com/pages/Functional-Programming.html">Functional Programming in PHP</a></li>
  <li><a href="https://juejin.im/post/5af13664f265da0ba266efcf">大佬，JavaScript 柯里化，了解一下？</a></li>
  <li><a href="https://wudaijun.com/2018/05/understand-functional-programing/">理解函数式编程</a></li>
</ul>
</div>


  
    <!-- 添加捐赠图标 -->
    <div class ="post-donate">
        <div id="donate_board" class="donate_bar">
            <a id="btn_donate" href="javascript:;" title="Donate 打赏"></a>
            <br>
            <span class="donate_txt">如果这篇文章对你有帮助，并且你想小额捐款支持一下的话。</span>
            <br>
        </div>  
  
        <div id="donate_guide" class="donate_bar hidden">
            <!-- 支付宝打赏图案 -->
            <img src="https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20190424153431.png" class="m10" title="支付宝打赏" >
            <!-- 微信打赏图案 -->
            <img src="https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20190424153510.png" class="m10" title="微信打赏">
        </div>
  
        <script type="text/javascript">
        document.getElementById('btn_donate').onclick = function(){
            $('#donate_board').addClass('hidden');
            $('#donate_guide').removeClass('hidden');
        }
        </script>
    </div>
<!-- 添加捐赠图标 -->
  
  
    
        
            
            
        

    




        
    





<div class="cc-license">
    <a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/deed.zh">
        <img alt="知识共享署名-非商业性使用 4.0 国际许可协议" src="https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20190424153253.png" />
    </a><br />
    原文地址：<a href="https://blog.forecho.com/a-preliminary-study-on-functional-programming.html">https://blog.forecho.com/a-preliminary-study-on-functional-programming.html</a><br />
    版权声明：本作品采用<a rel="license" href="http://creativecommons.org/licenses/by-nc/4.0/deed.zh">知识共享署名-非商业性使用 4.0 国际许可协议</a>进行许可。  
</div>
<div style="text-align: center; margin-top: 20px;">
    <img alt="扫码关注我的个人公众号" src="https://blog-1251237404.cos.ap-guangzhou.myqcloud.com/20190424153337.png"/>   
</div>

  
  <footer>
    <p class="meta">
      
  


<span id="busuanzi_container_page_pv">
  <span id="busuanzi_value_page_pv"></span>次访问
</span>
<span class="byline author vcard">Posted by <span class="fn">forecho</span></span>

      
 
 
 

  2019年08月29日
      

<span class="categories">
  
    <a class='category' href='/categories/fen-xiang/'>分享</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/participate-in-the-openresty-technical-salon.html" title="Previous Post: 参加 OpenResty 技术沙龙活动">&laquo; 参加 OpenResty 技术沙龙活动</a>
      
      
        <a class="basic-alignment right" href="/use-hhkb.html" title="Next Post: 使用 HHKB">使用 HHKB &raquo;</a>
      
    </p>
  </footer>
</article>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Me</h1>
  <p>
    如果有一天，你不再尋找愛情，只是去愛；你不再渴望成功，只是去做；你不再追求成長，只是去修；一切才真正開始！
    <br>
    &#8211;by 紀伯倫 Kahil · Gibran
  </p>
</section>

    <section>
        <a href="https://www.douban.com/people/ipzone/">forecho 的豆瓣主页</a>
    </section>
<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/octopress-migrate-to-hugo.html">Octopress 迁移到 Hugo</a>
      </li>
    
      <li class="post">
        <a href="/use-hammerspoon.html">Mac 利器 Hammerspoon 使用指南</a>
      </li>
    
      <li class="post">
        <a href="/fitness-at-home.html">在家健身有 Switch 就够了</a>
      </li>
    
      <li class="post">
        <a href="/wugong-mountain-walking-tour.html">第九站：武功山两天反穿徒步</a>
      </li>
    
      <li class="post">
        <a href="/foshan-self-driving-tour.html">第八站：佛山自驾游</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Categories</h1>
  <ul id="categories">
    <li class='category'><a href='/categories/ajax/'>ajax (1)</a></li>
<li class='category'><a href='/categories/angular/'>angular (1)</a></li>
<li class='category'><a href='/categories/api/'>api (1)</a></li>
<li class='category'><a href='/categories/app/'>app (2)</a></li>
<li class='category'><a href='/categories/cakephp/'>cakephp (5)</a></li>
<li class='category'><a href='/categories/codeigniter/'>codeigniter (3)</a></li>
<li class='category'><a href='/categories/css/'>css (2)</a></li>
<li class='category'><a href='/categories/docker/'>docker (3)</a></li>
<li class='category'><a href='/categories/git/'>git (3)</a></li>
<li class='category'><a href='/categories/github/'>github (2)</a></li>
<li class='category'><a href='/categories/gitlab/'>gitlab (1)</a></li>
<li class='category'><a href='/categories/javascript/'>javascript (4)</a></li>
<li class='category'><a href='/categories/jquery/'>jquery (5)</a></li>
<li class='category'><a href='/categories/laravel/'>laravel (1)</a></li>
<li class='category'><a href='/categories/mac/'>mac (3)</a></li>
<li class='category'><a href='/categories/mwskai-fa/'>mws开发 (2)</a></li>
<li class='category'><a href='/categories/mysql/'>mysql (3)</a></li>
<li class='category'><a href='/categories/nas/'>nas (1)</a></li>
<li class='category'><a href='/categories/nginx/'>nginx (1)</a></li>
<li class='category'><a href='/categories/octopress/'>octopress (6)</a></li>
<li class='category'><a href='/categories/php/'>php (17)</a></li>
<li class='category'><a href='/categories/phpstorm/'>phpstorm (2)</a></li>
<li class='category'><a href='/categories/phpji-chu/'>php基础 (4)</a></li>
<li class='category'><a href='/categories/python/'>python (1)</a></li>
<li class='category'><a href='/categories/restful/'>restful (4)</a></li>
<li class='category'><a href='/categories/sublime/'>sublime (1)</a></li>
<li class='category'><a href='/categories/switch/'>switch (3)</a></li>
<li class='category'><a href='/categories/travis-ci/'>travis-ci (1)</a></li>
<li class='category'><a href='/categories/ubuntu/'>ubuntu (1)</a></li>
<li class='category'><a href='/categories/vagrant/'>vagrant (1)</a></li>
<li class='category'><a href='/categories/vim/'>vim (4)</a></li>
<li class='category'><a href='/categories/virtualbox/'>virtualbox (1)</a></li>
<li class='category'><a href='/categories/xampp/'>xampp (1)</a></li>
<li class='category'><a href='/categories/yii/'>yii (9)</a></li>
<li class='category'><a href='/categories/yii1/'>yii1 (2)</a></li>
<li class='category'><a href='/categories/yii2/'>yii2 (5)</a></li>
<li class='category'><a href='/categories/youtube/'>youtube (1)</a></li>
<li class='category'><a href='/categories/san-li-san/'>三立三 (1)</a></li>
<li class='category'><a href='/categories/bu-gen-tuan/'>不跟团 (7)</a></li>
<li class='category'><a href='/categories/ge-ren-cheng-chang/'>个人成长 (1)</a></li>
<li class='category'><a href='/categories/ye-liao-dian-ying/'>也聊电影 (1)</a></li>
<li class='category'><a href='/categories/ti-yan/'>体验 (1)</a></li>
<li class='category'><a href='/categories/jian-shen/'>健身 (2)</a></li>
<li class='category'><a href='/categories/fen-xiang/'>分享 (5)</a></li>
<li class='category'><a href='/categories/fen-xiang-jing-yan/'>分享经验 (4)</a></li>
<li class='category'><a href='/categories/chuang-ye/'>创业 (3)</a></li>
<li class='category'><a href='/categories/qu-kuai-lian/'>区块链 (1)</a></li>
<li class='category'><a href='/categories/tu-cao/'>吐槽 (4)</a></li>
<li class='category'><a href='/categories/xue-ying-yu/'>学英语 (1)</a></li>
<li class='category'><a href='/categories/gong-ju/'>工具 (3)</a></li>
<li class='category'><a href='/categories/gong-ju-kong/'>工具控 (1)</a></li>
<li class='category'><a href='/categories/gan-huo/'>干货 (3)</a></li>
<li class='category'><a href='/categories/nian-du-zong-jie/'>年度总结 (1)</a></li>
<li class='category'><a href='/categories/nian-zhong-zong-jie/'>年终总结 (4)</a></li>
<li class='category'><a href='/categories/ying-yong/'>应用 (1)</a></li>
<li class='category'><a href='/categories/wei-fu-wu/'>微服务 (1)</a></li>
<li class='category'><a href='/categories/si-kao/'>思考 (13)</a></li>
<li class='category'><a href='/categories/xing-neng-you-hua/'>性能优化 (1)</a></li>
<li class='category'><a href='/categories/zong-jie/'>总结 (60)</a></li>
<li class='category'><a href='/categories/xiang-fa/'>想法 (2)</a></li>
<li class='category'><a href='/categories/ji-zhu-fen-xiang/'>技术分享 (1)</a></li>
<li class='category'><a href='/categories/tou-zi-li-cai/'>投资理财 (1)</a></li>
<li class='category'><a href='/categories/bo-ke/'>播客 (3)</a></li>
<li class='category'><a href='/categories/gu-shi/'>故事 (1)</a></li>
<li class='category'><a href='/categories/xiao-lu/'>效率 (1)</a></li>
<li class='category'><a href='/categories/lu-you/'>旅游 (8)</a></li>
<li class='category'><a href='/categories/shi-jian-guan-li/'>时间管理 (1)</a></li>
<li class='category'><a href='/categories/jia-gou/'>架构 (2)</a></li>
<li class='category'><a href='/categories/shen-du-[?]-dian/'>深度一点 (1)</a></li>
<li class='category'><a href='/categories/shen-du-li-cai/'>深度理财 (5)</a></li>
<li class='category'><a href='/categories/shen-du-yue-du/'>深度阅读 (24)</a></li>
<li class='category'><a href='/categories/li-cai/'>理财 (1)</a></li>
<li class='category'><a href='/categories/sheng-ri/'>生日 (2)</a></li>
<li class='category'><a href='/categories/dian-ying/'>电影 (3)</a></li>
<li class='category'><a href='/categories/kan-fa/'>看法 (1)</a></li>
<li class='category'><a href='/categories/xia-che-dan/'>瞎扯淡 (1)</a></li>
<li class='category'><a href='/categories/zhi-hu/'>知乎 (1)</a></li>
<li class='category'><a href='/categories/ke-xue-shang-wang/'>科学上网 (1)</a></li>
<li class='category'><a href='/categories/cheng-xu-yuan/'>程序员 (1)</a></li>
<li class='category'><a href='/categories/guan-li/'>管理 (1)</a></li>
<li class='category'><a href='/categories/jing-yan-fen-xiang/'>经验分享 (23)</a></li>
<li class='category'><a href='/categories/bian-cheng-gong-ju/'>编程工具 (3)</a></li>
<li class='category'><a href='/categories/bian-cheng-si-xiang/'>编程思想 (1)</a></li>
<li class='category'><a href='/categories/mei-gu/'>美股 (5)</a></li>
<li class='category'><a href='/categories/fan-yi/'>翻译 (4)</a></li>
<li class='category'><a href='/categories/du-shu-bi-ji/'>读书笔记 (2)</a></li>
<li class='category'><a href='/categories/gou-wu/'>购物 (2)</a></li>
<li class='category'><a href='/categories/yue-du/'>阅读 (11)</a></li>
<li class='category'><a href='/categories/xiang-mu-guan-li/'>项目管理 (1)</a></li>

  </ul>
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2020 - forecho -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  











</body>
</html>
